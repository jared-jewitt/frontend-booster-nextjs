steps:
  #################################################################
  # Unit tests
  #################################################################
  - name: "docker/compose:1.29.2"
    args: [
      "run",
      "client",
      "npm",
      "run",
      "test:unit"
    ]
    env:
      - "COMPOSE_FILE=docker/docker-compose.yml:docker/docker-compose.ci.yml"
      - "COMPOSE_PROJECT_NAME=frontend-booster-nextjs"

  #################################################################
  # Integration tests
  #################################################################
  - name: "docker/compose:1.29.2"
    args: [
      "run",
      "client",
      "npm",
      "run",
      "test:integration:headless"
    ]
    env:
      - "COMPOSE_FILE=docker/docker-compose.yml:docker/docker-compose.ci.yml"
      - "COMPOSE_PROJECT_NAME=frontend-booster-nextjs"
